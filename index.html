<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Giveaway Account Blox Fruit</title>
  <style>
    :root{
      --bg-dark:#0f1720;
      --card-dark:#0b1220;
      --muted-dark:#9aa3ad;
      --accent:#22c55e;
      --text-dark:#e6eef4;

      --bg-light:#f3f6f8;
      --card-light:#ffffff;
      --muted-light:#4b5563;
      --text-light:#0b1220;
    }
    html,body{height:100%;margin:0;font-family:Inter, "Segoe UI", Arial, sans-serif;}
    body{
      background: linear-gradient(180deg,var(--bg-dark), #111827);
      color:var(--text-dark);
      display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:28px;transition:all .25s;
    }

    .wrap{
      width:100%;max-width:900px;
      display:grid;grid-template-columns:1fr 340px;gap:20px;align-items:start;
    }

    .card{
      background: rgba(255,255,255,0.04);
      border-radius:14px;padding:20px;box-shadow:0 6px 30px rgba(2,6,23,0.6);
      backdrop-filter: blur(6px);
    }

    .left .title { font-size:20px;margin:0 0 8px 0; font-weight:700; text-align:left; color: #fff; }
    .lead { color: rgba(255,255,255,0.75); margin:0 0 14px 0; font-size:14px; text-align:left; }

    .form { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .form input[type="text"]{
      flex:1; min-width:200px; padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.02); color: #fff; font-size:15px; outline:none;
    }
    .form .btn {
      padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:700;
      background: var(--accent); color:#072010;
    }
    .form .btn.secondary { background:transparent; color:var(--muted-dark); border:1px solid rgba(255,255,255,0.04); }

    /* Result box */
    .result {
      margin-top:18px; display:none; align-items:center; gap:18px; padding:14px; border-radius:10px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      animation: pop .35s ease;
    }
    @keyframes pop { from{opacity:0; transform:translateY(-6px) scale(.995)} to{opacity:1; transform:none} }

    .meta { flex:1; text-align:left; }
    .meta .row{ display:flex; align-items:center; gap:8px; margin:8px 0; font-size:15px; }
    .label { color: rgba(255,255,255,0.7); font-size:13px; min-width:74px; }
    .value { font-weight:800; color:#fff; word-break:break-all; }

    .copy-btn {
      padding:6px 8px; border-radius:8px; background:rgba(255,255,255,0.06); border:none; color:#fff; cursor:pointer; font-weight:700;
    }

    /* right column */
    .right { width:100%; max-width:340px; }
    .card.small { padding:16px; text-align:center; }
    .history { margin-top:12px; text-align:left; max-height:340px; overflow:auto; }
    .history h3 { margin:0 0 8px 0; color: rgba(255,255,255,0.85); }
    .history ul{ list-style:none;padding:0;margin:0; }
    .history li { background: rgba(255,255,255,0.03); padding:8px 10px; margin-bottom:8px; border-radius:8px; font-size:13px; color:#fff; }

    .footer {
      margin-top:20px; text-align:center; font-weight:800; color:#ffd54a; letter-spacing:0.2px;
    }

    /* light theme */
    body.light {
      background: linear-gradient(180deg, var(--bg-light), #e6eef4);
      color:var(--text-light);
    }
    body.light .card { background: var(--card-light); box-shadow: 0 10px 30px rgba(2,6,23,0.06); color:var(--text-light); }
    body.light .lead { color: var(--muted-light); }
    body.light .form input { background:#fff; color:var(--text-light); border:1px solid #e6eef4; }
    body.light .result { background:#fff; color:var(--text-light); }
    body.light .history li { background:#fff; color:var(--text-light); border:1px solid #f0f0f0; }

    /* toast */
    .toast { position:fixed; right:18px; top:18px; background:#0b1220; color:#fff; padding:10px 14px;border-radius:10px; display:none; z-index:9999; }
    .toast.show{ display:block; }

    /* responsive */
    @media (max-width:880px){
      .wrap { grid-template-columns: 1fr; padding:0 8px; }
      .right { order: -1; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- LEFT: form + result -->
    <div class="card left">
      <div class="title">üéÅ Nh·∫≠p m√£ nh·∫≠n t√†i kho·∫£n</div>
      <p class="lead">Nh·∫≠p m√£ theo d·∫°ng <code>HOANGLAM_xxxx</code> (kh√¥ng ph√¢n bi·ªát hoa/th∆∞·ªùng).</p>

      <div class="form" role="form" aria-label="Form nh·∫≠p m√£">
        <input id="codeInput" type="text" placeholder="VD: HOANGLAM_3392ijdju2ns" aria-label="Input m√£">
        <button class="btn" id="redeemBtn">Nh·∫≠n ngay</button>
        <button class="btn secondary" id="themeBtn">ƒê·ªïi giao di·ªán</button>
      </div>

      <div id="resultBox" class="result" aria-live="polite">
        <div class="meta">
          <div class="row"><div class="label">Username</div><div class="value" id="usernameVal">‚Äî</div>
            <button class="copy-btn" id="copyUserBtn" title="Copy username">COPY</button></div>
          <div class="row"><div class="label">Password</div><div class="value" id="passwordVal">‚Äî</div>
            <button class="copy-btn" id="copyPassBtn" title="Copy password">COPY</button></div>
        </div>
      </div>

    </div>

    <!-- RIGHT: history / info -->
    <div class="card small right">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
        <strong style="font-size:15px">L·ªãch s·ª≠ ƒë√£ nh·∫≠n</strong>
        <button class="copy-btn" id="clearBtn" title="X√≥a l·ªãch s·ª≠" style="background:#ff6b6b">X√ìA</button>
      </div>
      <div class="history">
        <ul id="historyList" aria-live="polite"></ul>
      </div>

      <div style="margin-top:12px;font-size:13px;color:rgba(255,255,255,0.75);">
        <div><strong>Ghi ch√∫:</strong></div>
        <div style="margin-top:6px;color:rgba(255,255,255,0.6);font-size:13px">M√£ kh√¥ng gi·ªõi h·∫°n, ai c√≥ m√£ ƒë·ªÅu nh·∫≠p ƒë∆∞·ª£c.</div>
      </div>
    </div>
  </div>

  <div class="footer">‚ú® Website ƒë∆∞·ª£c l√†m b·ªüi Phan Ho√†ng L√¢m ‚ú®</div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
  // --- CONFIG: mapping m√£ ‚Üí account (case-insensitive)
  const ACCOUNTS = {
    "HOANGLAM_3392ijdju2ns": { username: "MariotClot", password: "NAMHA123" },
    "HOANGLAM_a7k3m9zq":     { username: "LaiT1445",   password: "NAMHA123" },
    "HOANGLAM_q8z2p5lm":     { username: "MaMaimn2",   password: "NAMHA123" },
    "HOANGLAM_r4t6w1bx":     { username: "MaMaBay321", password: "NAMHA123" },
    "HOANGLAM_yu72bf9k":     { username: "KatuRuler9x",password: "NAMHA123" },
    "HOANGLAM_12xk9vrc":     { username: "Coconutne89",password: "NAMHA123" }
  };

  // DOM
  const codeInput = document.getElementById('codeInput');
  const redeemBtn = document.getElementById('redeemBtn');
  const themeBtn = document.getElementById('themeBtn');
  const resultBox = document.getElementById('resultBox');
  const usernameVal = document.getElementById('usernameVal');
  const passwordVal = document.getElementById('passwordVal');
  const copyUserBtn = document.getElementById('copyUserBtn');
  const copyPassBtn = document.getElementById('copyPassBtn');
  const historyList = document.getElementById('historyList');
  const clearBtn = document.getElementById('clearBtn');
  const toast = document.getElementById('toast');

  // Utilities
  function showToast(text, time=1400){
    toast.textContent = text;
    toast.classList.add('show');
    toast.style.display = 'block';
    clearTimeout(toast._t);
    toast._t = setTimeout(()=>{ toast.style.display='none'; }, time);
  }

  function toKey(s){ return String(s||'').trim().toUpperCase(); }

  // History persistence (localStorage)
  const STORAGE_KEY = 'giveaway_history_v1';
  function loadHistory(){
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      return raw ? JSON.parse(raw) : [];
    }catch(e){ return []; }
  }
  function saveHistory(arr){
    try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(arr)); }catch(e){}
  }
  function renderHistory(){
    const arr = loadHistory();
    historyList.innerHTML = '';
    if(arr.length===0){
      historyList.innerHTML = '<li style="opacity:.6">Ch∆∞a c√≥ l·ªãch s·ª≠</li>';
      return;
    }
    arr.forEach(it=>{
      const li = document.createElement('li');
      const t = document.createElement('div');
      t.textContent = `${it.time} ‚Äî ${it.code} ‚Üí ${it.username} / ${it.password}`;
      li.appendChild(t);
      historyList.appendChild(li);
    });
  }

  // initial render
  renderHistory();

  // Redeem handler
  function redeem(){
    const codeRaw = codeInput.value;
    const key = toKey(codeRaw);
    if(!key){
      showToast('Vui l√≤ng nh·∫≠p m√£');
      return;
    }
    // find exact key among ACCOUNTS (keys stored as original), do case-insensitive
    const matchedKey = Object.keys(ACCOUNTS).find(k => toKey(k) === key);
    if(!matchedKey){
      resultBox.style.display = 'block';
      usernameVal.textContent = '‚Äî';
      passwordVal.textContent = '‚Äî';
      showToast('M√£ kh√¥ng h·ª£p l·ªá',1200);
      return;
    }

    const acc = ACCOUNTS[matchedKey];
    usernameVal.textContent = acc.username;
    passwordVal.textContent = acc.password;
    resultBox.style.display = 'flex';

    // add to history (most recent on top)
    const arr = loadHistory();
    const now = new Date();
    const timeStr = now.toLocaleString();
    arr.unshift({ code: matchedKey, username: acc.username, password: acc.password, time: timeStr });
    // keep only latest 50 entries
    if(arr.length>50) arr.length = 50;
    saveHistory(arr);
    renderHistory();

    showToast('Hi·ªÉn th·ªã th√¥ng tin t√†i kho·∫£n');
  }

  // Copy functions
  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      showToast('ƒê√£ sao ch√©p');
    }catch(e){
      // fallback
      const ta = document.createElement('textarea');
      ta.value = text;
      document.body.appendChild(ta);
      ta.select();
      try { document.execCommand('copy'); showToast('ƒê√£ sao ch√©p'); } catch(e2){ showToast('Kh√¥ng th·ªÉ sao ch√©p'); }
      ta.remove();
    }
  }

  // Events
  redeemBtn.addEventListener('click', redeem);
  codeInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') redeem(); });
  copyUserBtn.addEventListener('click', ()=> copyText(usernameVal.textContent || '') );
  copyPassBtn.addEventListener('click', ()=> copyText(passwordVal.textContent || '') );

  // theme toggle (persist)
  const THEME_KEY = 'giveaway_theme_v1';
  function loadTheme(){ return localStorage.getItem(THEME_KEY)==='light'; }
  function saveTheme(isLight){ localStorage.setItem(THEME_KEY, isLight ? 'light' : 'dark'); }
  function applyTheme(){
    const isLight = loadTheme();
    document.body.classList.toggle('light', isLight);
  }
  function toggleTheme(){
    const isLight = !loadTheme();
    saveTheme(isLight);
    applyTheme();
  }
  themeBtn.addEventListener('click', toggleTheme);
  applyTheme();

  // clear history
  clearBtn.addEventListener('click', ()=>{
    if(!confirm('X√≥a to√†n b·ªô l·ªãch s·ª≠ nh·∫≠n t√†i kho·∫£n?')) return;
    saveHistory([]);
    renderHistory();
    showToast('ƒê√£ x√≥a l·ªãch s·ª≠');
  });

  // accessibility: focus input on load
  window.addEventListener('load', ()=> codeInput.focus());
</script>
</body>
</html>
